version: "3.1"

rules:
- rule: Greeting
  steps:
  - intent: greet
  - action: utter_greet

- rule: Goodbye
  steps:
  - intent: goodbye
  - action: utter_goodbye

- rule: Provide weather when city is provided
  steps:
  - intent: ask_weather
    entities:
    - city
  - action: action_get_weather

- rule: Ask for city when weather requested
  steps:
  - intent: ask_weather
  - action: utter_ask_city

- rule: Tell time
  steps:
  - intent: ask_time
  - action: action_get_time

- rule: Tell joke
  steps:
  - intent: tell_joke
  - action: action_tell_joke

- rule: Initiate mood analysis
  steps:
  - intent: mood_analysis
  - action: utter_ask_mood

- rule: Process mood input
  steps:
  - intent: informs
    entities:
    - mood
  - action: action_analyze_mood

- rule: Analyze mood after response
  steps:
  - intent: informs
  - action: action_analyze_mood